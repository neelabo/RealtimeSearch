### 検索オプション

- 検索オプション指定がない場合はAND標準検索になります ("/and /text /m2"を指定したのと同じ)。
- 検索オプションは直後の検索単語にのみ影響します。
- 検索オプションは大文字小文字を区別しません。

#### 接続オプション

名前|説明
-|-
/and|AND検索 (デフォルト)
/or|OR検索
/not|NOT検索

#### 項目オプション

名前|説明|補足
-|-|-
/text|テキスト (デフォルト)|文字列。ファイル名
/date|日時|日時。最終更新日
/size|サイズ|数値。ファイル サイズ

#### 適合オプション

名前|説明|補足
-|-|-
/m0, /exact|完全一致| "ダブルクオートで囲むのと同じです"
/m1, /word|単語一致| 文字の種類で単語を識別しているので精度はあまりよくありません。この検索ではひらがなとカタカナを区別します。
/m2|標準 (デフォルト)|
/re|正規表現| [.NETの正規表現](https://docs.microsoft.com/dotnet/standard/base-types/regular-expression-language-quick-reference)
/ire|正規表現・大文字小文字無効|大文字と小文字を区別しない正規表現検索を行う
/since|日時指定・以後|指定日時以後
/until|日時指定・以前|指定日時以前
/lt|比較演算・より小さい|比較演算はサイズや日付などで適切に機能する
/le|比較演算・以下	
/eq|比較演算・等しい	
/ne|比較演算・等しくない	
/ge|比較演算・以上	
/gt|比較演算・より大きい

標準検索や単語一致検索の場合は、以下のようなあいまい検索になる。

* 半角、全角を区別しません。
* ひらがな、カタカナを区別しません。
* 英数の大文字、小文字を区別しません。
* 数字は"0"から始まる場合の区別をしません。(例："file15" と "file0015" は区別されない)
* UNICODE正規化(NFKC)を使用しています。(例："㌫" と "パーセント" は区別されない)


### 日時指定フォーマット

通常は "2019-04-01" といった形式で指定します。 [.NETの日時変換](https://docs.microsoft.com/dotnet/standard/base-types/parsing-datetime)を使用しているため、それ以外の形式でも指定可能です。  
注意点として、"2019-04-01" という日にちの指定は "2019-04-01 00:00:00" と解釈されるため、"/until 2019-04-01" では4月1日は含まれません。

また、"-12day", "-6month" "-1year" といった形式で相対日時を指定可能です。  
"/since -5day" は「過去5日以内」という意味になります。 

### 数値フォーマット

整数に対応しています。

また、k,K,g,G,m,M の単位表記に対応しています。小文字は 1000 倍、大文字は 1024 倍です。

<br>
<br>

## 詳細

これまでのオプションはエイリアスされた簡易なものです。詳細な定義をここで説明します。

### 検索単位

検索の基本単位は次のセットになります。

    接続オプション(/c.) | 項目オプション(/p.) | 適合オプション(/m.) | キーワード

先頭が "/" で始まらない文字列がキーワードとなり、これが出現したときにこのセットが確定します。それまでに指定されていないオプションはデフォルト値が使用され、重複して指定されたカテゴリのオプションは上書きされます。

### 検索オプション

オプションはプレフィックス文字によりカテゴリ分けされています。

#### 接続オプション (/c.)

名前|説明
-|-
/c.and|AND 接続 (デフォルト)
/c.or|OR 接続
/c.not|NOT 接続

#### 項目オプション (/p.)

名前|説明|型
-|-|-
/p.text|テキスト (デフォルト)|String
/p.date|日時|DateTime
/p.size|サイズ|Integer

#### 適合オプション (/m.)

名前|説明|型
-|-|-
/m.exact|完全一致|String
/m.word|単語一致|String
/m.fuzzy|曖昧一致 (デフォルト)|String
/m.re|正規表現|String
/m.ire|正規表現・大文字小文字無効|String
/m.lt|比較演算・より小さい|項目オプションの型
/m.le|比較演算・以下|項目オプションの型
/m.eq|比較演算・等しい|項目オプションの型
/m.ne|比較演算・等しくない|項目オプションの型
/m.ge|比較演算・以上|項目オプションの型
/m.gt|比較演算・より大きい|項目オプションの型

項目オプションと適合オプションによって比較に使用する値の型が決まり、その型に変換してから適合チェックが行われます。

次の例では、DateTime型として日時比較を行います。

    /p.date /m.lt 2019-01-15

次の例では、日時を文字列にして比較を行います。

    /p.date /m.fuzzy 2019

### エイリアス

オプションは使用しやすいようにエイリアスが定義されており、場合によっては複数のオプションに展開されます。

エイリアス|展開
-|-
/and|/c.and
/or|/c.or
/not|/c.not
/text|/p.text
/re|/m.re
/ire|/m.ire
/m0|/m.exact
/exact|/m.exact
/m1|/m.word
/word|/m.word
/m2|/m.fuzzy
/fuzzy|/m.fuzzy
/lt|/m.lt
/le|/m.le
/eq|/m.eq
/ne|/m.ne
/ge|/m.ge
/gt|/m.gt
/date|/p.date
/since|/p.date /m.ge
/until|/p.date /m.le
/size|/p.size

<br>
<br>

## 使用例

"ABC","DEF"のAND標準検索 

    ABC DEF

"^ABC$"の正規表現検索 

    /re ^ABC$

"ABC DEF"の完全一致検索 

    "ABC DEF"

"ABC"標準検索結果に対する、"DEF"NOT単語検索 

    ABC /not /word DEF

2019年4月に更新されたファイルの検索

    /since 2019-04-01 /until 2019-05-01

10MB 未満のファイルを検索

    /size /lt 10M
